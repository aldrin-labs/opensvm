# =============================================================================
# OpenSVM Anthropic API Proxy Configuration
# =============================================================================

# Environment
NODE_ENV=production

# =============================================================================
# OpenRouter Configuration (Required)
# =============================================================================
# Multiple OpenRouter API keys for load balancing (comma-separated)
OPENROUTER_API_KEYS=sk-or-v1-your-key-1,sk-or-v1-your-key-2,sk-or-v1-your-key-3

# OpenRouter API settings
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
OPENROUTER_TIMEOUT=30000
OPENROUTER_RETRIES=3
OPENROUTER_RATE_LIMIT_BUFFER=100

# =============================================================================
# Qdrant Database Configuration (Required)
# =============================================================================
QDRANT_URL=http://localhost:6333
QDRANT_API_KEY=your-qdrant-api-key-here
QDRANT_TIMEOUT=10000

# Qdrant Collection Names
QDRANT_COLLECTION_API_KEYS=anthropic_api_keys
QDRANT_COLLECTION_BALANCES=svmai_balances
QDRANT_COLLECTION_USAGE=usage_logs
QDRANT_COLLECTION_METRICS=proxy_metrics

# =============================================================================
# Solana Configuration (Required)
# =============================================================================
SOLANA_RPC_URL=https://api.mainnet-beta.solana.com
SOLANA_MULTISIG_ADDRESS=YourMultisigAddressHere123456789012345678
SVMAI_TOKEN_MINT=YourSVMAITokenMintHere123456789012345678
SOLANA_CONFIRMATION_LEVEL=confirmed
SOLANA_POLL_INTERVAL=5000
SOLANA_MAX_RETRIES=3

# =============================================================================
# SVMAI Pricing Configuration
# =============================================================================
SVMAI_PER_INPUT_TOKEN=0.1
SVMAI_PER_OUTPUT_TOKEN=0.2
MINIMUM_SVMAI_BALANCE=100
RESERVATION_MULTIPLIER=2

# Model pricing multipliers (JSON format)
MODEL_MULTIPLIERS={"claude-3-haiku":0.5,"claude-3-sonnet":1.0,"claude-3-opus":2.0,"claude-3-sonnet-4":1.2,"claude-3-opus-4":2.5}

# =============================================================================
# Rate Limiting Configuration
# =============================================================================
RATE_LIMITING_ENABLED=true

# Global rate limits
GLOBAL_REQUESTS_PER_MINUTE=1000
GLOBAL_REQUESTS_PER_HOUR=10000
GLOBAL_REQUESTS_PER_DAY=100000

# Per-user rate limits
USER_REQUESTS_PER_MINUTE=60
USER_REQUESTS_PER_HOUR=1000
USER_REQUESTS_PER_DAY=10000

# Per-API-key rate limits
API_KEY_REQUESTS_PER_MINUTE=30
API_KEY_REQUESTS_PER_HOUR=500
API_KEY_REQUESTS_PER_DAY=5000

# =============================================================================
# Security Configuration
# =============================================================================
# CORS settings
CORS_ENABLED=true
CORS_ORIGINS=https://opensvm.com,https://app.opensvm.com
CORS_METHODS=GET,POST,OPTIONS
CORS_HEADERS=Content-Type,Authorization,X-Requested-With

# API key validation
API_KEY_STRICT_FORMAT=true
API_KEY_REQUIRE_PREFIX=sk-ant-api03-
API_KEY_MIN_LENGTH=64
API_KEY_MAX_LENGTH=128

# Request size limits
MAX_REQUEST_SIZE=10485760

# =============================================================================
# Monitoring and Logging Configuration
# =============================================================================
MONITORING_ENABLED=true
LOG_LEVEL=info

# Metrics settings
METRICS_FLUSH_INTERVAL=300000
METRICS_BUFFER_SIZE=1000
METRICS_RETENTION_DAYS=30

# Alerting settings
ALERTS_ENABLED=true
ERROR_RATE_THRESHOLD=10
RESPONSE_TIME_THRESHOLD=5000
MEMORY_THRESHOLD=90
NOTIFICATION_CHANNELS=console,email

# =============================================================================
# Admin Configuration
# =============================================================================
# Admin user IDs (comma-separated)
ADMIN_USER_IDS=admin-user-1,admin-user-2

# Admin API keys (comma-separated)
ADMIN_API_KEYS=admin-key-1,admin-key-2

# Admin endpoints
ADMIN_ENDPOINTS_ENABLED=true
ADMIN_PATH_PREFIX=/api/opensvm 